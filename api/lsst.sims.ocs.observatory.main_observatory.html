

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lsst.sims.ocs.observatory.main_observatory module &mdash; Simulated OCS 1.0.9 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Simulated OCS 1.0.9 documentation" href="../index.html"/>
        <link rel="up" title="lsst.sims.ocs.observatory package" href="lsst.sims.ocs.observatory.html"/>
        <link rel="next" title="lsst.sims.ocs.observatory.slew_information module" href="lsst.sims.ocs.observatory.slew_information.html"/>
        <link rel="prev" title="lsst.sims.ocs.observatory.exposure_information module" href="lsst.sims.ocs.observatory.exposure_information.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Simulated OCS
          

          
            
            <img src="../_static/socs_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database.html">Survey Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lsst.sims.ocs.html">lsst.sims.ocs package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lsst.sims.ocs.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.configuration.html">lsst.sims.ocs.configuration package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.database.html">lsst.sims.ocs.database package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.downtime.html">lsst.sims.ocs.downtime package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.environment.html">lsst.sims.ocs.environment package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.kernel.html">lsst.sims.ocs.kernel package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="lsst.sims.ocs.observatory.html">lsst.sims.ocs.observatory package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="lsst.sims.ocs.observatory.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="lsst.sims.ocs.observatory.html#module-lsst.sims.ocs.observatory">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.sal.html">lsst.sims.ocs.sal package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.setup.html">lsst.sims.ocs.setup package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lsst.sims.ocs.utilities.html">lsst.sims.ocs.utilities package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lsst.sims.ocs.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lsst.sims.ocs.html#module-lsst.sims.ocs">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Simulated OCS</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="lsst.sims.ocs.html">lsst.sims.ocs package</a> &raquo;</li>
        
          <li><a href="lsst.sims.ocs.observatory.html">lsst.sims.ocs.observatory package</a> &raquo;</li>
        
      <li>lsst.sims.ocs.observatory.main_observatory module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/lsst.sims.ocs.observatory.main_observatory.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lsst.sims.ocs.observatory.main_observatory">
<span id="lsst-sims-ocs-observatory-main-observatory-module"></span><h1>lsst.sims.ocs.observatory.main_observatory module<a class="headerlink" href="#module-lsst.sims.ocs.observatory.main_observatory" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory">
<em class="property">class </em><code class="descclassname">lsst.sims.ocs.observatory.main_observatory.</code><code class="descname">MainObservatory</code><span class="sig-paren">(</span><em>obs_site_config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">future.types.newobject.newobject</span></code></p>
<p>Class for the Main Observatory.</p>
<p>This class is designed to look like the real observatory. In the default case, the observatory
configuration is the main LSST obesrvatory. It uses the observatory model from the LSST Scheduler
as its base information. There is an option to add variations onto the parameters and values that
the model calculates to simulate real world behaviors.</p>
<dl class="attribute">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.log">
<code class="descname">log</code><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.log" title="Permalink to this definition">¶</a></dt>
<dd><p><em>logging.Logger</em> &#8211; The logging instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.model">
<code class="descname">model</code><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.model" title="Permalink to this definition">¶</a></dt>
<dd><p><em>lsst.ts.scheduler.observatory_model.ObservatoryModel</em> &#8211; The instance of the Observatory model from the LSST Scheduler.</p>
</dd></dl>

<dl class="attribute">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.param_dict">
<code class="descname">param_dict</code><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.param_dict" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; The configuration parameters for the Observatory model.</p>
</dd></dl>

<p>Initialize the class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs_site_config</strong> (<a class="reference internal" href="lsst.sims.ocs.configuration.obs_site.html#lsst.sims.ocs.configuration.obs_site.ObservingSite" title="lsst.sims.ocs.configuration.obs_site.ObservingSite"><code class="xref py py-class docutils literal"><span class="pre">ObservingSite</span></code></a>) &#8211; The instance of the observing site configuration.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.__getattr__">
<code class="descname">__getattr__</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.__getattr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.__getattr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Find attributes in lsst.ts.scheduler.observator_model.ObservatorModel as well as MainObservatory.</p>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.calculate_visit_time">
<code class="descname">calculate_visit_time</code><span class="sig-paren">(</span><em>target</em>, <em>th</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.calculate_visit_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.calculate_visit_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the visit time from the target and camera information.</p>
<p>This function calculates the visit time from the current camera configuration parameters
and the list of effective exposure times from the target. The visit time is calculated as:</p>
<p>shutter_time = 2.0 * (0.5 * camera shutter time)
visit_time = sum over number of exposures (shutter_time + effective exposure time)
visit_time += (number of exposures - 1) * camera readout time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target</strong> (<em>SALPY_scheduler.targetC</em>) &#8211; The Scheduler topic instance holding the target information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><em>(float, str)</em> &#8211; The calculated visit time and a unit string (default it seconds).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>obs_config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the ObservatoryModel parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs_config</strong> (<a class="reference internal" href="lsst.sims.ocs.configuration.observatory.html#lsst.sims.ocs.configuration.observatory.Observatory" title="lsst.sims.ocs.configuration.observatory.Observatory"><code class="xref py py-class docutils literal"><span class="pre">Observatory</span></code></a>) &#8211; The instance of the observatory configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.get_slew_activities">
<code class="descname">get_slew_activities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.get_slew_activities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.get_slew_activities" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the slew activities for the given slew.</p>
<p>This function retrieved the list of slew activities from the model after
lsst.ts.scheduler.observatory_model.ObservatoryModel::slew is called. The
activites are stored in an internal structure so parameters nor returns are
necessary.</p>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.get_slew_state">
<code class="descname">get_slew_state</code><span class="sig-paren">(</span><em>slew_state_info</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.get_slew_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.get_slew_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the slew state from the current state instance.</p>
<p>This function takes a given slew state instance and copies the information to the namedtuple
that will allow it to be transferred to the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>slew_state_info</strong> (<em>lsst.ts.scheduler.observatory_model.ObservatoryState</em>) &#8211; The current slew state instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="lsst.sims.ocs.observatory.slew_information.html#lsst.sims.ocs.observatory.slew_information.SlewState" title="lsst.sims.ocs.observatory.slew_information.SlewState"><code class="xref py py-class docutils literal"><span class="pre">SlewState</span></code></a> &#8211; The copied slew state information.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.observe">
<code class="descname">observe</code><span class="sig-paren">(</span><em>time_handler</em>, <em>target</em>, <em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.observe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.observe" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the observation of the given target.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time_handler</strong> (<a class="reference internal" href="lsst.sims.ocs.kernel.time_handler.html#lsst.sims.ocs.kernel.time_handler.TimeHandler" title="lsst.sims.ocs.kernel.time_handler.TimeHandler"><code class="xref py py-class docutils literal"><span class="pre">TimeHandler</span></code></a>) &#8211; An instance of the simulation&#8217;s TimeHandler.</li>
<li><strong>target</strong> (<em>SALPY_scheduler.targetC</em>) &#8211; The Scheduler topic instance holding the target information.</li>
<li><strong>observation</strong> (<em>SALPY_scheduler.observationC</em>) &#8211; The Scheduler topic instance for recording the observation information.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li>dict(<a class="reference internal" href="lsst.sims.ocs.observatory.slew_information.html#lsst.sims.ocs.observatory.slew_information.SlewHistory" title="lsst.sims.ocs.observatory.slew_information.SlewHistory"><code class="xref py py-class docutils literal"><span class="pre">SlewHistory</span></code></a>, <a class="reference internal" href="lsst.sims.ocs.observatory.slew_information.html#lsst.sims.ocs.observatory.slew_information.SlewState" title="lsst.sims.ocs.observatory.slew_information.SlewState"><code class="xref py py-class docutils literal"><span class="pre">SlewState</span></code></a>, <a class="reference internal" href="lsst.sims.ocs.observatory.slew_information.html#lsst.sims.ocs.observatory.slew_information.SlewState" title="lsst.sims.ocs.observatory.slew_information.SlewState"><code class="xref py py-class docutils literal"><span class="pre">SlewState</span></code></a>, list[<a class="reference internal" href="lsst.sims.ocs.observatory.slew_information.html#lsst.sims.ocs.observatory.slew_information.SlewActivity" title="lsst.sims.ocs.observatory.slew_information.SlewActivity"><code class="xref py py-class docutils literal"><span class="pre">SlewActivity</span></code></a>]) &#8211; A dictionanry of all the slew information from the visit.</li>
<li>dict(list[<a class="reference internal" href="lsst.sims.ocs.observatory.exposure_information.html#lsst.sims.ocs.observatory.exposure_information.TargetExposure" title="lsst.sims.ocs.observatory.exposure_information.TargetExposure"><code class="xref py py-class docutils literal"><span class="pre">TargetExposure</span></code></a>], list[<a class="reference internal" href="lsst.sims.ocs.observatory.exposure_information.html#lsst.sims.ocs.observatory.exposure_information.ObsExposure" title="lsst.sims.ocs.observatory.exposure_information.ObsExposure"><code class="xref py py-class docutils literal"><span class="pre">ObsExposure</span></code></a>]) &#8211; A dictionary of all the exposure information from the visit.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.slew">
<code class="descname">slew</code><span class="sig-paren">(</span><em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.slew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.slew" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the slewing operation for the observatory to the given target.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target</strong> (<em>SALPY_scheduler.targetC</em>) &#8211; The Scheduler topic instance holding the target information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><em>float</em> &#8211; The time to slew the telescope from its current position to the target position.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.start_night">
<code class="descname">start_night</code><span class="sig-paren">(</span><em>night</em>, <em>duration</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.start_night"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.start_night" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform start of night functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>night</strong> (<em>int</em>) &#8211; The current survey observing night.</li>
<li><strong>duration</strong> (<em>int</em>) &#8211; The survey duration in days.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lsst.sims.ocs.observatory.main_observatory.MainObservatory.swap_filter">
<code class="descname">swap_filter</code><span class="sig-paren">(</span><em>filter_to_unmount</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lsst/sims/ocs/observatory/main_observatory.html#MainObservatory.swap_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lsst.sims.ocs.observatory.main_observatory.MainObservatory.swap_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a filter swap.</p>
<p>This function takes a requested filter to unmount and checks it against the list
of removable filters. If it is not on the list, no filter swap is performed. If it
is on the list, a filter swap is performed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_to_unmount</strong> (<em>str</em>) &#8211; The filter requested for unmounting.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lsst.sims.ocs.observatory.slew_information.html" class="btn btn-neutral float-right" title="lsst.sims.ocs.observatory.slew_information module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lsst.sims.ocs.observatory.exposure_information.html" class="btn btn-neutral" title="lsst.sims.ocs.observatory.exposure_information module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, LSST Systems Engineering.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>